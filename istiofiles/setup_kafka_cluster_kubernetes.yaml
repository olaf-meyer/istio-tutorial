apiVersion: v1
kind: List
metadata:
  name: kafka-setup-for-demo-app
items:
- apiVersion: kafka.strimzi.io/v1beta1
  kind: Kafka
  metadata:
    name: demo-app-log-cluster
    labels: {}
    namespace: kafka
  spec:
    kafka:
      config:
        offsets.topic.replication.factor: 1
        transaction.state.log.replication.factor: 1
        transaction.state.log.min.isr: 1
        log.message.format.version: '2.5'
      version: 2.5.0
      storage:
        type: ephemeral
      replicas: 1
      # listeners:
      #   plain:
      #     authentication:
      #       type: scram-sha-512
      #   tls:
      #     authentication:
      #       type: tls
      listeners:
        plain: {}
        tls: {}
      template:
        statefulset:
          metadata:
            labels:
              app: kafka-cluster-demo-app-log
              version: 1.0
        pod:
          metadata:
            labels:
              app: kafka-cluster-demo-app-log
              version: 1.0
            annotations:
              # prometheus.io/scrape: "true"
              sidecar.istio.io/inject: "true"
    entityOperator:
      topicOperator:
        reconciliationIntervalSeconds: 90
      userOperator:
        reconciliationIntervalSeconds: 120
      template:
        deployment:
          metadata:
            labels:
              app: kafka-entity-operator-demo-app-log
              version: 1.0
              app-type: entity-operator
        pod:
          metadata:
            labels:
              app: kafka-entity-operator-demo-app-log
              version: 1.0
              app-type: entity-operator
    zookeeper:
      storage:
        type: ephemeral
      replicas: 1
      template:
        statefulset:
          metadata:
            labels:
              app: kafka-zookeeper-demo-app-log
              version: 1.0
        pod:
          metadata:
            labels:
              app: kafka-zookeeper-demo-app-log
              version: 1.0
            annotations:
              # prometheus.io/scrape: "true"
              sidecar.istio.io/inject: "true"
- apiVersion: kafka.strimzi.io/v1beta1
  kind: KafkaTopic
  metadata:
    name: demo-application-log-customer
    labels:
      strimzi.io/cluster: demo-app-log-cluster
    namespace: kafka
  spec:
    config:
      retention.ms: 604800000
      segment.bytes: 1073741824
    partitions: 10
    replicas: 1
- apiVersion: kafka.strimzi.io/v1beta1
  kind: KafkaTopic
  metadata:
    name: demo-application-log-preference
    labels:
      strimzi.io/cluster: demo-app-log-cluster
    namespace: kafka
  spec:
    config:
      retention.ms: 604800000
      segment.bytes: 1073741824
    partitions: 10
    replicas: 1
- apiVersion: kafka.strimzi.io/v1beta1
  kind: KafkaTopic
  metadata:
    name: demo-application-log-recommendation
    labels:
      strimzi.io/cluster: demo-app-log-cluster
    namespace: kafka
  spec:
    config:
      retention.ms: 604800000
      segment.bytes: 1073741824
    partitions: 10
    replicas: 1